---
import { getCollection } from "astro:content";

const experiences = await getCollection('experiences');
---
<div class="grid gap-4 mb-10 p-2">
  <h1 class="text-3xl w-full font-bold mb-2">Experiencia {"</>"}</h1>

  {experiences.map((exp) => (
    <div class="flex" key={exp.id}>
      <div>
        <span class="w-3 h-3 bg-yellow-300 block rounded-full mt-1"></span>
        <span class="bg-gray-600 block h-full w-[1px] translate-x-[6px]"></span>
      </div>
      <div class="bd-grid px-5">
        <h3 class="font-bold text-2xl max-sm:text-lg mb-1">{exp.data.company}</h3>
        <div class="flex justify-between mb-3">
          <span class="font-light text-sm">{exp.data.position}</span>
          <span class="font-semibold text-sm">{exp.data.date}</span>
        </div>
        <p class="my-2 text-justify pr-16">{exp.data.description}</p>

        <h3 class="font-semibold mb-1">Logros</h3>
        <ul>
          {exp.data.achievements.map((achievement, index) => (
            <li key={index} class="list-disc ml-5">{achievement}</li>
          ))}
        </ul>

        <h3 class="font-semibold mb-1 mt-3">Roles y Conocimiento</h3>
        <ul>
          {exp.data.rols.map((rol, index) => (
            <li key={index} class="list-disc ml-5">{rol}</li>
          ))}
        </ul>
      </div>
    </div>
  ))}
</div>
