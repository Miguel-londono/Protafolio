---

import { getCollection } from "astro:content";
import WindowProject from "./WindowProject.astro";
import About from "./About.astro";
import projectsSvg from "../assets/svg/Projects.svg";
import Experience from "./Experience.astro";

const projects = await getCollection("projects"); // Asegúrate de usar el mismo nombre definido en el esquema
---

<!-- Window Projects-->
<section
  id="hero"
  class="fade-in scrollbar-hide sm:h-[calc(100vh-10rem)] max-w-5xl mx-auto flex flex-col p-4 gap-6"
>
  <h1 class="text-3xl w-full font-bold mb-2">
    My last projects {"</>"}
  </h1>
  {
    projects.slice(0, 3).map((project) => {
      const { data, slug } = project;
      return <WindowProject key={slug} {...data} />;
    })
  }

  <a
    href="/projects"
    class="flex items-center justify-center p-3 gap-3 transition ease-in-out hover:scale-[104%] hover:opacity-80 cursor-pointer hover:bg-slate-600 rounded-lg text-center w-full"
  >
    <img src={projectsSvg.src} alt="gitHub" class="w-6 h-6 dark:invert" />
    <h1 class="text-center">Ir a mis proyectos</h1>
  </a>
</section>

<section
  id="experience"
  class="fade-in min-h-[calc(100vh-4rem)] max-w-5xl mx-auto flex"
>
  <Experience />
</section>

<section
  id="about"
  class="fade-in min-h-[calc(100vh-4rem)] max-w-5xl mx-auto flex py-6"
>
  <About />
</section>


<!-- Cuarta sección -->
<section
  id="certificates"
  class="fade-in h-[calc(100vh-10rem)] max-w-5xl mx-auto flex items-center justify-center"
>
  <div>
    <h1 class="text-4xl font-bold">Certificados</h1>
    <p class="text-lg">Contenido adicional</p>
  </div>
</section>
